In my long school life I have made the experience that I learn much more with a teacher I like than with one I don't like.
If you like a teacher and he can manage to get in touch with you on a more personal level, you automatically put more effort in a subject. You want the teacher to be happy and proud of you. If a normal teacher gets mad at you because you talk in the class, you regularly don't really care about it, if you actively DON'T like the teacher you are probably even happy about it. This goes with how you like the subject. If you normally don't specially like the subject it is all about the teacher. I like subjects better with a teacher I like than with a teacher I don't like. An extreme example is that you are probably really looking forward to a specific lesson, just because of the teacher and not because you like the subject itselfe.
On the other hand it is also very important that you get the feeling, that the teacher knows what he is talking about. I've also made the experience that if you get the feeling that everythig the teacher says is wrong or just easy basic knowledge, you stop listening to him because you think in the case you need it you could learn it by yourselfe in the internet. You just can't take a teacher serious if he doesn't know more than he teaches you. For example if you ask him a question about his subject that isn't part of what you regularly learn, you have much more respect if he can answer the question or tell you a little bit about it.
In the end I think a teacher should have both, a good connection to the students and much knowledge about his subject. If you don't like the teacher or the teacher doesn't like you very much, the other person mostly realises it and it ends with the students not learning as much as they probably could. A teacher who doesn't really understand what he is teaching you has the same effect.