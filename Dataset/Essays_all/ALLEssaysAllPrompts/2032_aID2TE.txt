The question if a teacher's ability to relate well with students is more important than excellent knowledge of the subject being taught is often discussed in schools.
On the one hand school is there for having the best education the students can get. They have to get prepared for life after school, for example college. Because of that students have to focus on the subject and they can only do that with the right teacher who brings along the knowledge of the subject.
Furthermore the teacher is not the students' friend. If a teacher gets too involved in the students' problems, he can't give the student the grade he or she deserves. Because of that there may be other students who feel that they aren't treated the right way because the teacher prefers certains students.
On the other hand it is important that the teacher has a good relationship with his students. If he doesn't, he may seem very cold and the students are in a bad mood in his lessons so that they don't have fun by learning new things.
The most important aspect is that students feel safer if they have someone they can talk to, even if it's just their teacher. Especislly in high school students often have a hard time when they for example get bullyied or their parents are always arguing at home. At those times is it important that they have the teacher they can talk to and he can help them.
In my opinion it is more important that the teacher gets along well with his students than excellent knowledge of the subject being taught. The teacher is capable of teaching his students what they have to know otherwise he wouldn't be a teacher. The fact that his students like him is a bonus that is very important for students in any kind of school.