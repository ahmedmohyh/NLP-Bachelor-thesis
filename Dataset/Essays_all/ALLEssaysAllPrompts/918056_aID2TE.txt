On one hand, if a teacher can't relate well with students, they aren't liked by a lot of students and this could be a big problem for the communication that should happen in class. The learning enviroment isn't good for students when there is always someone in the same room with them who they don't like. This isn't just a possible problem for student but for the teachers as well. They could be bullied in class or made fun of on the internet. On the other hand, if student and teachers can both relate well with each other students learn better in class and but otherwhise there could be problems in the entire school. 

An other point is that a teacher with a lack of knowledge isn't very good for the students either. If their education in school hasn't been very deep and good they could have problems going to college or an university. They could be less informed and maybe they got wrong information from that teacher as well. The relation between students and teacher may be less good but at least the students learnd something during the schoolyear.

In the end I think a better knowledge of the subject is more important than a good relation between teachers and students - especially for the students. They might not be able to see it in the situation but a teacher with a good knowledge can help them a lot more in their future carrier. I also think that teachers should really try to have a good relation even if they know they aren't very good at it. It's a nice plus for student when they can talk with their teachers in a friendly and kind of personal way too.