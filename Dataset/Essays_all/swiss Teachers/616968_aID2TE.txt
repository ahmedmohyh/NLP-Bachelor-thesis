In my opinion both are very important. A teacher can't teach without great knowledge and he can't teach students that hate the teacher or the other way round. It is very important for a teacher that the students respect him/her and want to learn from the teacher. For example if the teacher doesn't have further knowledge of the subject he teaches, he will have a hard time answering questions from students that are actually interested and maybe faster than other students due to their exceptional ability to soak in knowledge and and their need to know more. If he can't provide them the knowledge the students are most likely going to be upset about it. They feel like they are being wheighed down by the teacher and the relationship between teacher and student is going to have a hard time. They are going to think he isn't qualified enough, they aren't learning enough, not making any progress.
If the teacher doesn't get along with the students on the other hand the students most likely won't feel the urge to study or make progress. A good relationship between teacher and student is key. If the teacher is boring or treats his/her students badly students will not like the class and are most likely going to hate the subject. I sadly learned this throughout my school career. 
If one of the two things i mentioned isn't given there is a problem. School isn't going to be productive and the students won't really make any progress. That's why it's very important that the teachers should be more educated on how to build up a good and healthy relationship with their students so that you can provide, as many students as possible a chance to achieve greatness instead of holding them down as if they we're tied to a rock in the middle of the sea. Yet on the other hand you shouldn't let teachers teach a class where further knowledge is needed. Obviously you wouldn't hire a professor for a primary school class but the level of knowldge should be adequate or over average. If all this is given the student will have the most profit of his school time and a great chance to be successful in life.