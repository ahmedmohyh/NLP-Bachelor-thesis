In school a lot of students decide whether they like or dislike a subject because of the teacher they have. He or she should be friendly, but when it's noisy, the teacher should be able to produce silence with a clear, strong voice. Otherwise students can do what they want - or they aren't interested in the subject because the lessons are boring. 
But is it more important for a teacher to have a good connection to the students or that they can learn many things from him or her? 
Well, I think, a good connection between student and teacher is necessary for the lessons. When they don't understand each other, the student is not interested in things he could learn in this subject and the result is a bad mark at the end of the school year. Both things, that the teacher relate well with his students and that he has excellent knowledge about the subject, that he can transfer into the heads of the students, are connected. 
But if a teacher is well with his students, but he can't teach them important things, then there is a problem too. But of course, a teacher has study his subjects and he needs different qualities before he's allowed to teach students in school. So I would say, most of the teachers are able to do well what they should do and at first this is only: teaching. That he / she should be well with the students and - for example - speak with them when they have a problem, that is a different thing. I think, one thing follows the other: When a teacher is friendly and social but already knows what to do if the class should be quiet, the students will like the teacher. They will be interested in what he / she explains and in the end they will learn a lot. 
Because of this reasons my opinion is, that both, a good connection and an excellent knowledge is very important, but if the teacher is well with all students, he / she already has won a lot.